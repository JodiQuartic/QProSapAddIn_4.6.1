<UserControl x:Class="SapHanaAddIn.TableViewerPanelView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"   
             xmlns:ui="clr-namespace:SapHanaAddIn"
             xmlns:extensions="clr-namespace:ArcGIS.Desktop.Extensions;assembly=ArcGIS.Desktop.Extensions"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300"
             d:DataContext="{Binding Path=ui.TableViewerPanelViewModel}">
     <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <extensions:DesignOnlyResourceDictionary Source="pack://application:,,,/ArcGIS.Desktop.Framework;component\Themes\Default.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid Margin="0,0,-190,0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <DockPanel Grid.Row="0" LastChildFill="true" KeyboardNavigation.TabNavigation="Local" Height="30">
            <TextBlock Grid.Column="1" Text="{Binding Heading}" Style="{DynamicResource Esri_TextBlockDockPaneHeader}">
                <TextBlock.ToolTip>
                    <WrapPanel Orientation="Vertical" MaxWidth="300">
                        <!--<TextBlock Text="{Binding Heading}" TextWrapping="Wrap"/>-->
                        <TextBlock Text="" TextWrapping="Wrap"/>
                    </WrapPanel>
                </TextBlock.ToolTip>
      </TextBlock>
        </DockPanel>
        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
            </Grid.RowDefinitions>

                <StackPanel Orientation="Horizontal" Grid.Row="0">
                    <TextBlock HorizontalAlignment="Left" Text="Schemas" Style="{DynamicResource Esri_TextBlockH3}"
                       Margin="10,3,20,3"></TextBlock>

                <ComboBox Width="150" Name="cboSchema" ItemsSource="{Binding Schemas}" SelectedItem="{Binding CurrentSelected}" >
                    <!--<ComboBoxItem>gef</ComboBoxItem>
                    <ComboBoxItem>sys</ComboBoxItem>
                    <ComboBoxItem>JLUOSTARINEN</ComboBoxItem>-->
                </ComboBox>
                <TextBlock HorizontalAlignment="Left" Text="Tables" Style="{DynamicResource Esri_TextBlockH3}"
                       Margin="10,3,20,3"></TextBlock>
                <ComboBox Width="150" Name="cboTables" ItemsSource="{Binding Tables }" SelectedItem="{Binding CurrentTableSelected}"  >
                    <!--<ComboBoxItem>ActiveOrdersPt</ComboBoxItem>
                    <ComboBoxItem>T3_geom</ComboBoxItem>
                    <ComboBoxItem>GEFPOINT</ComboBoxItem>-->
                </ComboBox>
                </StackPanel>

            
            <StackPanel Orientation="Horizontal" Grid.Row="1">

            </StackPanel>

            <TextBox TextWrapping="Wrap" Grid.Row="2" Height="60" Width="auto"  Background="{DynamicResource Esri_BackgroundPressedBrush}" 
         Foreground="{DynamicResource Esri_TextStyleDefaultBrush}" Text="{Binding QueryTxt, Mode=TwoWay}" ></TextBox>
            <StackPanel Grid.Row="3" Orientation="Horizontal" >

                <Button Grid.Row="0" Grid.Column="1" Height="25" Margin="5" Command="{Binding RetrieveMapsCommand}"
                    Style="{DynamicResource Esri_Button}">Add To TOC</Button>

                <Button Grid.Row="0" Grid.Column="1" Height="25" Margin="5" Command="{Binding RetrieveMapsCommand}"
                    Style="{DynamicResource Esri_Button}">Execute</Button>
                <Button Grid.Row="0" Grid.Column="1" Height="25" Margin="5" Command="{Binding RetrieveMapsCommand}"
                    Style="{DynamicResource Esri_Button}">Close</Button>
            </StackPanel>
            <StackPanel Grid.Row="4">
                <DataGrid   Name="dgConnections"   ItemsSource="{Binding Results, Mode=OneWay,NotifyOnSourceUpdated=True,UpdateSourceTrigger=PropertyChanged,BindsDirectlyToSource=True}"  Height="auto" Width="auto" AlternatingRowBackground = "LightBlue" AlternationCount = "2"  AutoGenerateColumns="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="OBJECTID" Binding="{Binding name}"   />
                        <DataGridTextColumn Header="GEF_CHG_DATE" Binding="{Binding server}" />
                        <DataGridTextColumn Header="GEF_CONTEXT" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_CRT_DATE" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_CRT_NAME" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_DATE_FROM" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_DATE_TO" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_OBJKEY" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_OBJTYPE" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="SHAPE" Binding="{Binding userid}" />

                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>

        </Grid>
    </Grid>
</UserControl>
