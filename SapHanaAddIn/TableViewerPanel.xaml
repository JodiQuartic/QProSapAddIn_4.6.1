<UserControl x:Class="SapHanaAddIn.TableViewerPanelView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"   
             xmlns:ui="clr-namespace:SapHanaAddIn"
             xmlns:extensions="clr-namespace:ArcGIS.Desktop.Extensions;assembly=ArcGIS.Desktop.Extensions"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="500"
             d:DataContext="{Binding Path=ui.TableViewerPanelViewModel}">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <extensions:DesignOnlyResourceDictionary Source="pack://application:,,,/ArcGIS.Desktop.Framework;component\Themes\Default.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid Margin="1,1,1,1">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <DockPanel Grid.Row="0" LastChildFill="true" KeyboardNavigation.TabNavigation="Local" Height="30" Width="Auto">
            <TextBlock Grid.Column="1" Text="{Binding Heading}" Style="{DynamicResource Esri_TextBlockDockPaneHeader}">
                <TextBlock.ToolTip>
                    <WrapPanel Orientation="Vertical">
                        <!--<TextBlock Text="{Binding Heading}" TextWrapping="Wrap"/>-->
                        <TextBlock Text="" TextWrapping="Wrap"/>
                    </WrapPanel>
                </TextBlock.ToolTip>
      </TextBlock>
        </DockPanel>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="289*"/>
                <ColumnDefinition Width="35*"/>
                <ColumnDefinition Width="174*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
            </Grid.RowDefinitions>

            <StackPanel Orientation="Horizontal" Grid.Row="0" HorizontalAlignment="Left" Width="Auto" Grid.ColumnSpan="3" >
                <TextBlock HorizontalAlignment="Left" Text="Schemas" Style="{DynamicResource Esri_TextBlockH3}"
                       Margin="10,3,20,3"></TextBlock>

                <ComboBox Width="150" Name="cboSchema" ItemsSource="{Binding Schemas}" SelectedItem="{Binding CurrentSelected}" >
                    <!--<ComboBoxItem>gef</ComboBoxItem>
                    <ComboBoxItem>sys</ComboBoxItem>
                    <ComboBoxItem>JLUOSTARINEN</ComboBoxItem>-->
                </ComboBox>
                <TextBlock HorizontalAlignment="Left" Text="Tables" Style="{DynamicResource Esri_TextBlockH3}"
                       Margin="10,3,20,3"></TextBlock>
                <ComboBox Width="Auto" MinWidth="150" Name="cboTables" ItemsSource="{Binding Tables }" SelectedItem="{Binding CurrentTableSelected}"  >
                    <!--<ComboBoxItem>ActiveOrdersPt</ComboBoxItem>
                    <ComboBoxItem>T3_geom</ComboBoxItem>
                    <ComboBoxItem>GEFPOINT</ComboBoxItem>-->
                </ComboBox>
            </StackPanel>


            <StackPanel Orientation="Horizontal" Grid.Row="1" Grid.ColumnSpan="3" Margin="0,0,0,60" Grid.RowSpan="2">

            </StackPanel>

            <TextBox Name="txtQueryTXT" TextWrapping="Wrap" Grid.Row="2" Height="60" Width="Auto"  Background="{DynamicResource Esri_BackgroundPressedBrush}" 
         Foreground="{DynamicResource Esri_TextStyleDefaultBrush}" Text="{Binding QueryTxt.SelectString, Mode=OneWay}" Grid.ColumnSpan="3" ></TextBox>
            <StackPanel Grid.Row="3" Orientation="Horizontal" Width="Auto" Grid.ColumnSpan="3" RenderTransformOrigin="0.726,0.536">

                <Button Name="btnAddTOC" Grid.Row="0" Grid.Column="1" Height="25" Margin="5" Command="{Binding AddTOC}" Click="btnAddTOC_Click"
                    Style="{DynamicResource Esri_Button}">Add To TOC</Button>
                <Button Grid.Row="0" Name="btnExecute" Grid.Column="1" Height="25" Margin="5" 
                    Style="{DynamicResource Esri_Button}" Click="btnExecute_Click">Execute</Button>
                <Button Grid.Row="0" Name="btnClose" Grid.Column="1" Height="25" Margin="5" 
                    Style="{DynamicResource Esri_Button}" Click="btnClose_Click">Close</Button>
                <Label Name="lblhasSpatialCol" Visibility="Visible" Content="{Binding hasSpatialCol}" />
                <Label Name="lblSpatialCol" Visibility="Visible" Content="{Binding SpatialCol}" />
            </StackPanel>

            <DataGrid Grid.Row="4" AutoGenerateColumns="True" Name="dgSelectedResults" 
                          IsReadOnly="True"
                          Height="Auto" Width="Auto"
                          AlternatingRowBackground = "LightBlue" AlternationCount = "2"  
                          ScrollViewer.CanContentScroll="True"
                          ScrollViewer.HorizontalScrollBarVisibility="Visible"
                          ScrollViewer.VerticalScrollBarVisibility="Visible" Grid.ColumnSpan="3">
                <!--ItemsSource="{Binding Results, Mode=TwoWay,BindsDirectlyToSource=True}"-->
            </DataGrid>

            <!--<DataGrid   Name="dgConnections"   ItemsSource="{Binding Results, Mode=OneWay,NotifyOnSourceUpdated=True,UpdateSourceTrigger=PropertyChanged,BindsDirectlyToSource=True}"  Height="auto" Width="auto" AlternatingRowBackground = "LightBlue" AlternationCount = "2"  AutoGenerateColumns="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="OBJECTID" Binding="{Binding name}"   />
                        <DataGridTextColumn Header="GEF_CHG_DATE" Binding="{Binding server}" />
                        <DataGridTextColumn Header="GEF_CONTEXT" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_CRT_DATE" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_CRT_NAME" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_DATE_FROM" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_DATE_TO" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_OBJKEY" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="GEF_OBJTYPE" Binding="{Binding userid}" />
                        <DataGridTextColumn Header="SHAPE" Binding="{Binding userid}" />

                    </DataGrid.Columns>
                </DataGrid>-->


        </Grid>
    </Grid>
</UserControl>
